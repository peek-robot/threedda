### training ###

## 1 3B all ##
BASE_DATASETS=robopoint_1432k_beta
HAMSTER_DATASETS=rlbench_all_tasks_256_1000_eps_sketch_v5_beta+droid_train99_sketch_v5_beta+bridge_data_v2_train90_10k_sketch_v5_beta
EXTENSION_DATASETS=stack_platforms2+procedural_cabinet_left+procedural_cabinet_right+libero_10+libero_90
DATASETS=$BASE_DATASETS+$HAMSTER_DATASETS+$EXTENSION_DATASETS
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=1
LR=1e-5
OUT_NAME=vila_3b_all
OUT_DIR=/lustre/fsw/portfolios/nvr/users/mmemmel/projects/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASETS $EPOCHS $LR $OUT_DIR

## 2 8B all ##
BASE_DATASETS=robopoint_1432k_beta
HAMSTER_DATASETS=rlbench_all_tasks_256_1000_eps_sketch_v5_beta+droid_train99_sketch_v5_beta+bridge_data_v2_train90_10k_sketch_v5_beta
EXTENSION_DATASETS=stack_platforms2+procedural_cabinet_left+procedural_cabinet_right+libero_10+libero_90
DATASETS=$BASE_DATASETS+$HAMSTER_DATASETS+$EXTENSION_DATASETS
BASE_MODEL=Efficient-Large-Model/Llama-3-VILA1.5-8B
EPOCHS=1
LR=1e-5
OUT_NAME=vila_8b_all
OUT_DIR=/lustre/fsw/portfolios/nvr/users/mmemmel/projects/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASETS $EPOCHS $LR $OUT_DIR

## 3 3B no_hamster ##
BASE_DATASETS=robopoint_1432k_beta
EXTENSION_DATASETS=stack_platforms2+procedural_cabinet_left+procedural_cabinet_right+libero_10+libero_90
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
DATASETS=$BASE_DATASETS+$EXTENSION_DATASETS
EPOCHS=1
LR=1e-5
OUT_NAME=vila_3b_no_hamster
OUT_DIR=/lustre/fsw/portfolios/nvr/users/mmemmel/projects/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASETS $EPOCHS $LR $OUT_DIR

## 3 3B no_hamster + long paths [lp] + rewording [rw] + no grasping [ng] ##
BASE_DATASETS=robopoint_1432k_beta
EXTENSION_DATASETS=stack_platforms2+procedural_cabinet_left+procedural_cabinet_right+libero_10+libero_90
REWORDED_DATASETS=stack_platforms2+stack_platforms2_lp_rw_ng+libero_10_lp_rw_ng+libero_90_lp_rw_ng
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
DATASETS=$BASE_DATASETS+$EXTENSION_DATASETS+$REWORDED_DATASETS
EPOCHS=1
LR=1e-5
OUT_NAME=vila_3b_no_hamster_lp_rw_ng
OUT_DIR=/lustre/fsw/portfolios/nvr/users/mmemmel/projects/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASETS $EPOCHS $LR $OUT_DIR

## 3 3B no_hamster + llarva ##
BASE_DATASETS=robopoint_1432k_beta
EXTENSION_DATASETS=stack_platforms2+procedural_cabinet_left+procedural_cabinet_right+libero_10+libero_90
LLARVA_DATASET=llarva
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
DATASETS=$BASE_DATASETS+$EXTENSION_DATASETS+$LLARVA_DATASET
EPOCHS=1
LR=1e-5
OUT_NAME=vila_3b_no_hamster_llarva
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASETS $EPOCHS $LR $OUT_DIR

## 3 3B no_hamster + long paths [lp] + rewording [rw] + no grasping [ng] + llarva ##
BASE_DATASETS=robopoint_1432k_beta
EXTENSION_DATASETS=stack_platforms2+procedural_cabinet_left+procedural_cabinet_right+libero_10+libero_90
REWORDED_DATASETS=stack_platforms2+stack_platforms2_lp_rw_ng+libero_10_lp_rw_ng+libero_90_lp_rw_ng
LLARVA_DATASET=llarva
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
DATASETS=$BASE_DATASETS+$EXTENSION_DATASETS+$REWORDED_DATASETS+$LLARVA_DATASET
EPOCHS=1
LR=1e-5
OUT_NAME=vila_3b_no_hamster_lp_rw_ng_llarva
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASETS $EPOCHS $LR $OUT_DIR

### training ###


### evaluate ###

DATASETS=libero_90+libero_10
OUT_NAME=vila_3b_no_hamster
sh srun_eval.sh $OUT_NAME $DATASETS

### evaluate ###


OUT_NAME=Efficient-Large-Model/VILA1.5-3b-robopoint_1432k_beta+rlbench_all_tasks_256_1000_eps_sketch_v5_beta+droid_train99_sketch_v5_beta+bridge_data_v2_train90_10k_sketch_v5_beta-e1-LR1e-5



BASE_DATASETS=robopoint_1432k_beta
HAMSTER_DATASETS=rlbench_all_tasks_256_1000_eps_sketch_v5_beta+droid_train99_sketch_v5_beta+bridge_data_v2_train90_10k_sketch_v5_beta
EXTENSION_DATASETS=stack_platforms2+procedural_cabinet_left+procedural_cabinet_right+libero_10+libero_90
DATASETS=$BASE_DATASETS+$HAMSTER_DATASETS+$EXTENSION_DATASETS
# DATASETS=$BASE_DATASETS+$EXTENSION_DATASETS

EPOCHS=1
LR=1e-5

sh srun_sft.sh $BASE_MODEL $DATASETS $EPOCHS $LR


### evaluate ###
DATASET=stack_platforms2
OUT_NAME=vila_3b_all
sh srun_eval.sh $OUT_NAME $DATASET


# TASK=colosseum_test_375_256_sketch_v5_eval
# python /lustre/fsw/portfolios/nvr/users/mmemmel/projects/process_dataset/process_vlm_answer.py ${TASK}.jsonl sketch_v5 $EVAL_MODEL

# single eval
python -W ignore llava/eval/run_vila.py \
    --model-path /lustre/fsw/portfolios/nvr/users/mmemmel/projects/checkpoints/finetuned/vila/Efficient-Large-Model/VILA1.5-3b-robopoint_1432k_beta+rlbench_all_tasks_256_1000_eps_sketch_v5_beta+droid_train99_sketch_v5_beta+bridge_data_v2_train90_10k_sketch_v5_beta-e1-LR1e-5/checkpoint-800 \
    --conv-mode vicuna_v1 \
    --query "<image>\n Please describe the traffic condition." \
    --image-file "/lustre/fsw/portfolios/nvr/users/mmemmel/projects/VILA/demo_images/av.png"

python -W ignore llava/eval/run_vila.py \
    --model-path /lustre/fsw/portfolios/nvr/users/mmemmel/projects/checkpoints/finetuned/vila/Efficient-Large-Model/VILA1.5-3b-robopoint_1432k_beta+rlbench_all_tasks_256_1000_eps_sketch_v5_beta+droid_train99_sketch_v5_beta+bridge_data_v2_train90_10k_sketch_v5_beta-e1-LR1e-5/checkpoint-800 \
    --conv-mode vicuna_v1 \
    --query "In the image, please execute the command described in <quest>slide the block to target</quest>.\nProvide a sequence of points denoting the trajectory of a robot gripper to achieve the goal.\nFormat your answer as a list of tuples enclosed by <ans> and </ans> tags. For example:\n<ans>[(0.25, 0.32), (0.32, 0.17), (0.13, 0.24), <action>Open Gripper</action>, (0.74, 0.21), <action>Close Gripper</action>, ...]</ans>\nThe tuple denotes point x and y location of the end effector of the gripper in the image. The action tags indicate the gripper action.\nThe coordinates should be floats ranging between 0 and 1, indicating the relative locations of the points in the image.\n" \
    --image-file "/lustre/fsw/portfolios/nvr/users/mmemmel/projects/VILA/demo_images/av.png"



/lustre/fsw/portfolios/nvr/users/mmemmel/projects/checkpoints/finetuned/vila/VILA1.5-3b-rlbench_all_tasks_256_1000_eps_sketch_v5_beta-e1-LR1e-4
/lustre/fsw/portfolios/nvr/users/mmemmel/projects/checkpoints/finetuned/vila/VILA1.5-3b-rlbench_all_tasks_256_1000_eps_sketch_v5_beta-e1-LR1e-5/checkpoint-100




# sft amazon ##
DATASET=amazon
BASE_MODEL=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/vila_3b_all
EPOCHS=1
LR=1e-5
OUT_NAME=vila_3b_sft_all_sft_amazon
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR

DATASET=amazon+robopoint_1432k_beta+libero_90_lp_ng+libero_10_lp_ng
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=1
LR=1e-5
OUT_NAME=vila_3b_sft_amazon
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR

# LoRA amazon ##
DATASET=amazon
BASE_MODEL=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/vila_3b_all # Efficient-Large-Model/VILA1.5-3b
EPOCHS=5
LR=2e-4
OUT_NAME=vila_3b_sft_all_lora_amazon_5_ep
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
sh srun_lora.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR

DATASET=amazon
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=5
LR=2e-4
OUT_NAME=vila_3b_lora_amazon_5_ep
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
sh srun_lora.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR

# eval
sh srun_eval.sh $OUT_NAME $DATASET



DATASET=libero_90+libero_10
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=5
LR=2e-4
OUT_NAME=vila_3b_lora_amazon_5_ep
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
sh srun_lora.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR

# eval
sh srun_eval.sh $OUT_NAME $DATASET


DATASET=robopoint_1432k+libero_processed_path_mask
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=1
LR=1e-5
OUT_NAME=libero_processed_path_mask
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR

DATASET=robopoint_1432k+libero_processed_path
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=1
LR=1e-5
OUT_NAME=libero_processed_path
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR

DATASET=robopoint_1432k+libero_processed_mask
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=1
LR=1e-5
OUT_NAME=libero_processed_mask
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR


DATASET=LIVING_ROOM_SCENE1_pick_up_the_ketchup_and_put_it_in_the_basket_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_right_and_place_it_under_the_cabinet_shelf_demo_primary_path_mask+put_the_cream_cheese_in_the_bowl_demo_primary_path_mask+KITCHEN_SCENE2_put_the_black_bowl_at_the_front_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE9_put_the_white_bowl_on_top_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_put_the_middle_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_stack_the_middle_black_bowl_on_the_back_black_bowl_demo_primary_path_mask+pick_up_the_black_bowl_between_the_plate_and_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_black_bowl_on_the_left_and_put_it_in_the_tray_demo_primary_path_mask+open_the_top_drawer_and_put_the_bowl_inside_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_back_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_white_mug_on_the_left_plate_and_put_the_yellow_and_white_mug_on_the_right_plate_demo_primary_path_mask+pick_up_the_black_bowl_on_the_wooden_cabinet_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE2_put_both_the_cream_cheese_box_and_the_butter_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_ketchup_and_put_it_in_the_tray_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_chocolate_pudding_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_on_the_cabinet_shelf_demo_primary_path_mask+KITCHEN_SCENE3_put_the_moka_pot_on_the_stove_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_milk_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_close_the_bottom_drawer_of_the_cabinet_and_open_the_top_drawer_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_in_the_middle_and_place_it_on_the_cabinet_shelf_demo_primary_path_mask+pick_up_the_black_bowl_on_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_red_mug_on_the_left_plate_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_white_mug_on_the_plate_and_put_the_chocolate_pudding_to_the_right_of_the_plate_demo_primary_path_mask+pick_up_the_milk_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE10_close_the_top_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE7_put_the_white_bowl_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE1_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE6_put_the_yellow_and_white_mug_in_the_microwave_and_close_it_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_white_mug_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_under_the_cabinet_shelf_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_tomato_sauce_and_put_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_orange_juice_and_put_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_white_mug_on_the_left_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_red_mug_on_the_right_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_stack_the_right_bowl_on_the_left_bowl_and_place_them_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE2_open_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_tomato_sauce_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE8_put_both_moka_pots_on_the_stove_demo_primary_path_mask+KITCHEN_SCENE1_open_the_top_drawer_of_the_cabinet_and_put_the_bowl_in_it_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_red_mug_on_the_plate_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_salad_dressing_and_put_it_in_the_tray_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_alphabet_soup_and_put_it_in_the_basket_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_right_and_place_it_on_the_cabinet_shelf_demo_primary_path_mask+pick_up_the_butter_and_place_it_in_the_basket_demo_primary_path_mask+put_the_bowl_on_the_stove_demo_primary_path_mask+pick_up_the_black_bowl_in_the_top_drawer_of_the_wooden_cabinet_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE1_put_the_black_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_alphabet_soup_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_and_put_the_frying_pan_on_it_demo_primary_path_mask+pick_up_the_chocolate_pudding_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_in_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+put_the_bowl_on_top_of_the_cabinet_demo_primary_path_mask+push_the_plate_to_the_front_of_the_stove_demo_primary_path_mask+pick_up_the_salad_dressing_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE6_close_the_microwave_demo_primary_path_mask+KITCHEN_SCENE4_close_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_put_the_black_bowl_at_the_back_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_close_the_top_drawer_of_the_cabinet_and_put_the_black_bowl_on_top_of_it_demo_primary_path_mask+KITCHEN_SCENE7_put_the_white_bowl_to_the_right_of_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE1_put_both_the_alphabet_soup_and_the_cream_cheese_box_in_the_basket_demo_primary_path_mask+put_the_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_stack_the_left_bowl_on_the_right_bowl_and_place_them_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE4_put_the_wine_bottle_in_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+pick_up_the_ketchup_and_place_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE2_put_both_the_alphabet_soup_and_the_tomato_sauce_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE8_turn_off_the_stove_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_white_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_yellow_and_white_mug_on_the_right_plate_demo_primary_path_mask+KITCHEN_SCENE1_open_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_cream_cheese_box_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE3_put_the_frying_pan_on_the_stove_demo_primary_path_mask+pick_up_the_black_bowl_on_the_cookie_box_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_and_put_the_moka_pot_on_it_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_alphabet_soup_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE10_put_the_chocolate_pudding_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+KITCHEN_SCENE9_turn_on_the_stove_and_put_the_frying_pan_on_it_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_back_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE2_put_the_middle_black_bowl_on_the_plate_demo_primary_path_mask+put_the_wine_bottle_on_the_rack_demo_primary_path_mask+KITCHEN_SCENE9_turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_left_and_place_it_on_top_of_the_shelf_demo_primary_path_mask+KITCHEN_SCENE8_put_the_right_moka_pot_on_the_stove_demo_primary_path_mask+pick_up_the_alphabet_soup_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE1_open_the_top_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_yellow_and_white_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE5_close_the_top_drawer_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_chocolate_pudding_to_the_right_of_the_plate_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_plate_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_put_the_black_bowl_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_stack_the_black_bowl_at_the_front_on_the_black_bowl_in_the_middle_demo_primary_path_mask+pick_up_the_orange_juice_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_put_the_wine_bottle_on_the_wine_rack_demo_primary_path_mask+put_the_wine_bottle_on_top_of_the_cabinet_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_cookie_box_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_put_the_butter_at_the_front_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+stack_platforms2_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_on_top_of_the_cabinet_demo_primary_path_mask+pick_up_the_cream_cheese_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE6_put_the_yellow_and_white_mug_to_the_front_of_the_white_mug_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_in_the_bottom_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_cream_cheese_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE5_put_the_ketchup_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_red_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_butter_and_put_it_in_the_tray_demo_primary_path_mask+open_the_middle_drawer_of_the_cabinet_demo_primary_path_mask+pick_up_the_tomato_sauce_and_place_it_in_the_basket_demo_primary_path_mask+pick_up_the_bbq_sauce_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE7_open_the_microwave_demo_primary_path_mask+KITCHEN_SCENE10_put_the_butter_at_the_back_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_tomato_sauce_and_put_it_in_the_basket_demo_primary_path_mask+pick_up_the_black_bowl_from_table_center_and_place_it_on_the_plate_demo_primary_path_mask+pick_up_the_black_bowl_on_the_stove_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_chocolate_pudding_to_the_left_of_the_plate_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+furniture_bench_dataset_converted_externally_to_rlds_primary_path_mask+droid_secondary_path_mask+jaco_play_primary_path_mask+stanford_hydra_dataset_converted_externally_to_rlds_primary_path_mask+viola_primary_path_mask+ucsd_kitchen_dataset_converted_externally_to_rlds_primary_path_mask+nyu_franka_play_dataset_converted_externally_to_rlds_secondary_path_mask+austin_buds_dataset_converted_externally_to_rlds_primary_path_mask+iamlab_cmu_pickup_insert_converted_externally_to_rlds_primary_path_mask+bridge_v2_secondary_path_mask+cmu_stretch_primary_path_mask+bridge_v2_tertiary_path_mask+austin_sailor_dataset_converted_externally_to_rlds_primary_path_mask+toto_primary_path_mask+utaustin_mutex_primary_path_mask+berkeley_fanuc_manipulation_primary_path_mask+bridge_v2_primary_path_mask+berkeley_cable_routing_secondary_path_mask+berkeley_cable_routing_primary_path_mask+kuka_primary_path_mask+fractal20220817_data_primary_path_mask+bc_z_primary_path_mask+berkeley_autolab_ur5_primary_path_mask+dlr_edan_shared_control_converted_externally_to_rlds_primary_path_mask+nyu_franka_play_dataset_converted_externally_to_rlds_primary_path_mask+taco_play_primary_path_mask+droid_primary_path_mask+robopoint_1432k
BASE_MODEL=Efficient-Large-Model/NVILA-8B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_8b_sim_oxe_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=16
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS


###########

DATASET=LIVING_ROOM_SCENE1_pick_up_the_ketchup_and_put_it_in_the_basket_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_right_and_place_it_under_the_cabinet_shelf_demo_primary_path_mask+put_the_cream_cheese_in_the_bowl_demo_primary_path_mask+KITCHEN_SCENE2_put_the_black_bowl_at_the_front_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE9_put_the_white_bowl_on_top_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_put_the_middle_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_stack_the_middle_black_bowl_on_the_back_black_bowl_demo_primary_path_mask+pick_up_the_black_bowl_between_the_plate_and_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_black_bowl_on_the_left_and_put_it_in_the_tray_demo_primary_path_mask+open_the_top_drawer_and_put_the_bowl_inside_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_back_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_white_mug_on_the_left_plate_and_put_the_yellow_and_white_mug_on_the_right_plate_demo_primary_path_mask+pick_up_the_black_bowl_on_the_wooden_cabinet_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE2_put_both_the_cream_cheese_box_and_the_butter_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_ketchup_and_put_it_in_the_tray_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_chocolate_pudding_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_on_the_cabinet_shelf_demo_primary_path_mask+KITCHEN_SCENE3_put_the_moka_pot_on_the_stove_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_milk_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_close_the_bottom_drawer_of_the_cabinet_and_open_the_top_drawer_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_in_the_middle_and_place_it_on_the_cabinet_shelf_demo_primary_path_mask+pick_up_the_black_bowl_on_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_red_mug_on_the_left_plate_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_white_mug_on_the_plate_and_put_the_chocolate_pudding_to_the_right_of_the_plate_demo_primary_path_mask+pick_up_the_milk_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE10_close_the_top_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE7_put_the_white_bowl_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE1_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE6_put_the_yellow_and_white_mug_in_the_microwave_and_close_it_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_white_mug_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_under_the_cabinet_shelf_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_tomato_sauce_and_put_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_orange_juice_and_put_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_white_mug_on_the_left_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_red_mug_on_the_right_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_stack_the_right_bowl_on_the_left_bowl_and_place_them_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE2_open_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_tomato_sauce_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE8_put_both_moka_pots_on_the_stove_demo_primary_path_mask+KITCHEN_SCENE1_open_the_top_drawer_of_the_cabinet_and_put_the_bowl_in_it_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_red_mug_on_the_plate_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_salad_dressing_and_put_it_in_the_tray_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_alphabet_soup_and_put_it_in_the_basket_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_right_and_place_it_on_the_cabinet_shelf_demo_primary_path_mask+pick_up_the_butter_and_place_it_in_the_basket_demo_primary_path_mask+put_the_bowl_on_the_stove_demo_primary_path_mask+pick_up_the_black_bowl_in_the_top_drawer_of_the_wooden_cabinet_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE1_put_the_black_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_alphabet_soup_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_and_put_the_frying_pan_on_it_demo_primary_path_mask+pick_up_the_chocolate_pudding_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_in_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+put_the_bowl_on_top_of_the_cabinet_demo_primary_path_mask+push_the_plate_to_the_front_of_the_stove_demo_primary_path_mask+pick_up_the_salad_dressing_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE6_close_the_microwave_demo_primary_path_mask+KITCHEN_SCENE4_close_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_put_the_black_bowl_at_the_back_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_close_the_top_drawer_of_the_cabinet_and_put_the_black_bowl_on_top_of_it_demo_primary_path_mask+KITCHEN_SCENE7_put_the_white_bowl_to_the_right_of_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE1_put_both_the_alphabet_soup_and_the_cream_cheese_box_in_the_basket_demo_primary_path_mask+put_the_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_stack_the_left_bowl_on_the_right_bowl_and_place_them_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE4_put_the_wine_bottle_in_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+pick_up_the_ketchup_and_place_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE2_put_both_the_alphabet_soup_and_the_tomato_sauce_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE8_turn_off_the_stove_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_white_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_yellow_and_white_mug_on_the_right_plate_demo_primary_path_mask+KITCHEN_SCENE1_open_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_cream_cheese_box_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE3_put_the_frying_pan_on_the_stove_demo_primary_path_mask+pick_up_the_black_bowl_on_the_cookie_box_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_and_put_the_moka_pot_on_it_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_alphabet_soup_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE10_put_the_chocolate_pudding_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+KITCHEN_SCENE9_turn_on_the_stove_and_put_the_frying_pan_on_it_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_back_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE2_put_the_middle_black_bowl_on_the_plate_demo_primary_path_mask+put_the_wine_bottle_on_the_rack_demo_primary_path_mask+KITCHEN_SCENE9_turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_left_and_place_it_on_top_of_the_shelf_demo_primary_path_mask+KITCHEN_SCENE8_put_the_right_moka_pot_on_the_stove_demo_primary_path_mask+pick_up_the_alphabet_soup_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE1_open_the_top_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_yellow_and_white_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE5_close_the_top_drawer_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_chocolate_pudding_to_the_right_of_the_plate_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_plate_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_put_the_black_bowl_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_stack_the_black_bowl_at_the_front_on_the_black_bowl_in_the_middle_demo_primary_path_mask+pick_up_the_orange_juice_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_put_the_wine_bottle_on_the_wine_rack_demo_primary_path_mask+put_the_wine_bottle_on_top_of_the_cabinet_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_cookie_box_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_put_the_butter_at_the_front_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+stack_platforms2_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_on_top_of_the_cabinet_demo_primary_path_mask+pick_up_the_cream_cheese_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE6_put_the_yellow_and_white_mug_to_the_front_of_the_white_mug_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_in_the_bottom_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_cream_cheese_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE5_put_the_ketchup_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_red_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_butter_and_put_it_in_the_tray_demo_primary_path_mask+open_the_middle_drawer_of_the_cabinet_demo_primary_path_mask+pick_up_the_tomato_sauce_and_place_it_in_the_basket_demo_primary_path_mask+pick_up_the_bbq_sauce_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE7_open_the_microwave_demo_primary_path_mask+KITCHEN_SCENE10_put_the_butter_at_the_back_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_tomato_sauce_and_put_it_in_the_basket_demo_primary_path_mask+pick_up_the_black_bowl_from_table_center_and_place_it_on_the_plate_demo_primary_path_mask+pick_up_the_black_bowl_on_the_stove_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_chocolate_pudding_to_the_left_of_the_plate_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+furniture_bench_dataset_converted_externally_to_rlds_primary_path_mask+droid_secondary_path_mask+jaco_play_primary_path_mask+stanford_hydra_dataset_converted_externally_to_rlds_primary_path_mask+viola_primary_path_mask+ucsd_kitchen_dataset_converted_externally_to_rlds_primary_path_mask+nyu_franka_play_dataset_converted_externally_to_rlds_secondary_path_mask+austin_buds_dataset_converted_externally_to_rlds_primary_path_mask+iamlab_cmu_pickup_insert_converted_externally_to_rlds_primary_path_mask+bridge_v2_secondary_path_mask+cmu_stretch_primary_path_mask+bridge_v2_tertiary_path_mask+austin_sailor_dataset_converted_externally_to_rlds_primary_path_mask+toto_primary_path_mask+utaustin_mutex_primary_path_mask+berkeley_fanuc_manipulation_primary_path_mask+bridge_v2_primary_path_mask+berkeley_cable_routing_secondary_path_mask+berkeley_cable_routing_primary_path_mask+kuka_primary_path_mask+fractal20220817_data_primary_path_mask+bc_z_primary_path_mask+berkeley_autolab_ur5_primary_path_mask+dlr_edan_shared_control_converted_externally_to_rlds_primary_path_mask+nyu_franka_play_dataset_converted_externally_to_rlds_primary_path_mask+taco_play_primary_path_mask+droid_primary_path_mask+robopoint_1432k
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-8B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_lite_8b_sim_oxe_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=16
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS


########

DATASET=LIVING_ROOM_SCENE1_pick_up_the_ketchup_and_put_it_in_the_basket_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_right_and_place_it_under_the_cabinet_shelf_demo_primary_path_mask+put_the_cream_cheese_in_the_bowl_demo_primary_path_mask+KITCHEN_SCENE2_put_the_black_bowl_at_the_front_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE9_put_the_white_bowl_on_top_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_put_the_middle_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_stack_the_middle_black_bowl_on_the_back_black_bowl_demo_primary_path_mask+pick_up_the_black_bowl_between_the_plate_and_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_black_bowl_on_the_left_and_put_it_in_the_tray_demo_primary_path_mask+open_the_top_drawer_and_put_the_bowl_inside_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_back_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_white_mug_on_the_left_plate_and_put_the_yellow_and_white_mug_on_the_right_plate_demo_primary_path_mask+pick_up_the_black_bowl_on_the_wooden_cabinet_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE2_put_both_the_cream_cheese_box_and_the_butter_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_ketchup_and_put_it_in_the_tray_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_chocolate_pudding_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_on_the_cabinet_shelf_demo_primary_path_mask+KITCHEN_SCENE3_put_the_moka_pot_on_the_stove_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_milk_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_close_the_bottom_drawer_of_the_cabinet_and_open_the_top_drawer_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_in_the_middle_and_place_it_on_the_cabinet_shelf_demo_primary_path_mask+pick_up_the_black_bowl_on_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_red_mug_on_the_left_plate_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_white_mug_on_the_plate_and_put_the_chocolate_pudding_to_the_right_of_the_plate_demo_primary_path_mask+pick_up_the_milk_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE10_close_the_top_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE7_put_the_white_bowl_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE1_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE6_put_the_yellow_and_white_mug_in_the_microwave_and_close_it_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_white_mug_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_under_the_cabinet_shelf_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_tomato_sauce_and_put_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_orange_juice_and_put_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_white_mug_on_the_left_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_red_mug_on_the_right_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_stack_the_right_bowl_on_the_left_bowl_and_place_them_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE2_open_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_tomato_sauce_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE8_put_both_moka_pots_on_the_stove_demo_primary_path_mask+KITCHEN_SCENE1_open_the_top_drawer_of_the_cabinet_and_put_the_bowl_in_it_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_red_mug_on_the_plate_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_salad_dressing_and_put_it_in_the_tray_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_alphabet_soup_and_put_it_in_the_basket_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_right_and_place_it_on_the_cabinet_shelf_demo_primary_path_mask+pick_up_the_butter_and_place_it_in_the_basket_demo_primary_path_mask+put_the_bowl_on_the_stove_demo_primary_path_mask+pick_up_the_black_bowl_in_the_top_drawer_of_the_wooden_cabinet_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE1_put_the_black_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_alphabet_soup_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_and_put_the_frying_pan_on_it_demo_primary_path_mask+pick_up_the_chocolate_pudding_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_in_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+put_the_bowl_on_top_of_the_cabinet_demo_primary_path_mask+push_the_plate_to_the_front_of_the_stove_demo_primary_path_mask+pick_up_the_salad_dressing_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE6_close_the_microwave_demo_primary_path_mask+KITCHEN_SCENE4_close_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_put_the_black_bowl_at_the_back_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_close_the_top_drawer_of_the_cabinet_and_put_the_black_bowl_on_top_of_it_demo_primary_path_mask+KITCHEN_SCENE7_put_the_white_bowl_to_the_right_of_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE1_put_both_the_alphabet_soup_and_the_cream_cheese_box_in_the_basket_demo_primary_path_mask+put_the_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_stack_the_left_bowl_on_the_right_bowl_and_place_them_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE4_put_the_wine_bottle_in_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+pick_up_the_ketchup_and_place_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE2_put_both_the_alphabet_soup_and_the_tomato_sauce_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE8_turn_off_the_stove_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_white_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_yellow_and_white_mug_on_the_right_plate_demo_primary_path_mask+KITCHEN_SCENE1_open_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_cream_cheese_box_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE3_put_the_frying_pan_on_the_stove_demo_primary_path_mask+pick_up_the_black_bowl_on_the_cookie_box_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_and_put_the_moka_pot_on_it_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_alphabet_soup_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE10_put_the_chocolate_pudding_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+KITCHEN_SCENE9_turn_on_the_stove_and_put_the_frying_pan_on_it_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_back_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE2_put_the_middle_black_bowl_on_the_plate_demo_primary_path_mask+put_the_wine_bottle_on_the_rack_demo_primary_path_mask+KITCHEN_SCENE9_turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_left_and_place_it_on_top_of_the_shelf_demo_primary_path_mask+KITCHEN_SCENE8_put_the_right_moka_pot_on_the_stove_demo_primary_path_mask+pick_up_the_alphabet_soup_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE1_open_the_top_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_yellow_and_white_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE5_close_the_top_drawer_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_chocolate_pudding_to_the_right_of_the_plate_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_plate_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_put_the_black_bowl_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_stack_the_black_bowl_at_the_front_on_the_black_bowl_in_the_middle_demo_primary_path_mask+pick_up_the_orange_juice_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_put_the_wine_bottle_on_the_wine_rack_demo_primary_path_mask+put_the_wine_bottle_on_top_of_the_cabinet_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_cookie_box_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_put_the_butter_at_the_front_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+stack_platforms2_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_on_top_of_the_cabinet_demo_primary_path_mask+pick_up_the_cream_cheese_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE6_put_the_yellow_and_white_mug_to_the_front_of_the_white_mug_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_in_the_bottom_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_cream_cheese_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE5_put_the_ketchup_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_red_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_butter_and_put_it_in_the_tray_demo_primary_path_mask+open_the_middle_drawer_of_the_cabinet_demo_primary_path_mask+pick_up_the_tomato_sauce_and_place_it_in_the_basket_demo_primary_path_mask+pick_up_the_bbq_sauce_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE7_open_the_microwave_demo_primary_path_mask+KITCHEN_SCENE10_put_the_butter_at_the_back_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_tomato_sauce_and_put_it_in_the_basket_demo_primary_path_mask+pick_up_the_black_bowl_from_table_center_and_place_it_on_the_plate_demo_primary_path_mask+pick_up_the_black_bowl_on_the_stove_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_chocolate_pudding_to_the_left_of_the_plate_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+furniture_bench_dataset_converted_externally_to_rlds_primary_path_mask+droid_secondary_path_mask+jaco_play_primary_path_mask+stanford_hydra_dataset_converted_externally_to_rlds_primary_path_mask+viola_primary_path_mask+ucsd_kitchen_dataset_converted_externally_to_rlds_primary_path_mask+nyu_franka_play_dataset_converted_externally_to_rlds_secondary_path_mask+austin_buds_dataset_converted_externally_to_rlds_primary_path_mask+iamlab_cmu_pickup_insert_converted_externally_to_rlds_primary_path_mask+bridge_v2_secondary_path_mask+cmu_stretch_primary_path_mask+bridge_v2_tertiary_path_mask+austin_sailor_dataset_converted_externally_to_rlds_primary_path_mask+toto_primary_path_mask+utaustin_mutex_primary_path_mask+berkeley_fanuc_manipulation_primary_path_mask+bridge_v2_primary_path_mask+berkeley_cable_routing_secondary_path_mask+berkeley_cable_routing_primary_path_mask+kuka_primary_path_mask+fractal20220817_data_primary_path_mask+bc_z_primary_path_mask+berkeley_autolab_ur5_primary_path_mask+dlr_edan_shared_control_converted_externally_to_rlds_primary_path_mask+nyu_franka_play_dataset_converted_externally_to_rlds_primary_path_mask+taco_play_primary_path_mask+droid_primary_path_mask+robopoint_1432k
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-2B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_lite_2b_sim_oxe_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS


########

DATASET=LIVING_ROOM_SCENE1_pick_up_the_ketchup_and_put_it_in_the_basket_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_right_and_place_it_under_the_cabinet_shelf_demo_primary_path_mask+put_the_cream_cheese_in_the_bowl_demo_primary_path_mask+KITCHEN_SCENE2_put_the_black_bowl_at_the_front_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE9_put_the_white_bowl_on_top_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_put_the_middle_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_stack_the_middle_black_bowl_on_the_back_black_bowl_demo_primary_path_mask+pick_up_the_black_bowl_between_the_plate_and_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_black_bowl_on_the_left_and_put_it_in_the_tray_demo_primary_path_mask+open_the_top_drawer_and_put_the_bowl_inside_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_back_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_white_mug_on_the_left_plate_and_put_the_yellow_and_white_mug_on_the_right_plate_demo_primary_path_mask+pick_up_the_black_bowl_on_the_wooden_cabinet_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE2_put_both_the_cream_cheese_box_and_the_butter_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_ketchup_and_put_it_in_the_tray_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_chocolate_pudding_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_on_the_cabinet_shelf_demo_primary_path_mask+KITCHEN_SCENE3_put_the_moka_pot_on_the_stove_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_milk_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_close_the_bottom_drawer_of_the_cabinet_and_open_the_top_drawer_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_in_the_middle_and_place_it_on_the_cabinet_shelf_demo_primary_path_mask+pick_up_the_black_bowl_on_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_red_mug_on_the_left_plate_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_white_mug_on_the_plate_and_put_the_chocolate_pudding_to_the_right_of_the_plate_demo_primary_path_mask+pick_up_the_milk_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE10_close_the_top_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE7_put_the_white_bowl_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE1_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE6_put_the_yellow_and_white_mug_in_the_microwave_and_close_it_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_white_mug_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_under_the_cabinet_shelf_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_tomato_sauce_and_put_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_orange_juice_and_put_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_white_mug_on_the_left_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_red_mug_on_the_right_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_stack_the_right_bowl_on_the_left_bowl_and_place_them_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE2_open_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_on_top_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_tomato_sauce_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE8_put_both_moka_pots_on_the_stove_demo_primary_path_mask+KITCHEN_SCENE1_open_the_top_drawer_of_the_cabinet_and_put_the_bowl_in_it_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_red_mug_on_the_plate_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE4_pick_up_the_salad_dressing_and_put_it_in_the_tray_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_alphabet_soup_and_put_it_in_the_basket_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_right_and_place_it_on_the_cabinet_shelf_demo_primary_path_mask+pick_up_the_butter_and_place_it_in_the_basket_demo_primary_path_mask+put_the_bowl_on_the_stove_demo_primary_path_mask+pick_up_the_black_bowl_in_the_top_drawer_of_the_wooden_cabinet_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE1_put_the_black_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_alphabet_soup_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_and_put_the_frying_pan_on_it_demo_primary_path_mask+pick_up_the_chocolate_pudding_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_in_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+put_the_bowl_on_top_of_the_cabinet_demo_primary_path_mask+push_the_plate_to_the_front_of_the_stove_demo_primary_path_mask+pick_up_the_salad_dressing_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE6_close_the_microwave_demo_primary_path_mask+KITCHEN_SCENE4_close_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_put_the_black_bowl_at_the_back_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_close_the_top_drawer_of_the_cabinet_and_put_the_black_bowl_on_top_of_it_demo_primary_path_mask+KITCHEN_SCENE7_put_the_white_bowl_to_the_right_of_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE1_put_both_the_alphabet_soup_and_the_cream_cheese_box_in_the_basket_demo_primary_path_mask+put_the_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE4_stack_the_left_bowl_on_the_right_bowl_and_place_them_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE4_put_the_wine_bottle_in_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+pick_up_the_ketchup_and_place_it_in_the_basket_demo_primary_path_mask+LIVING_ROOM_SCENE2_put_both_the_alphabet_soup_and_the_tomato_sauce_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE8_turn_off_the_stove_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_white_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE5_put_the_yellow_and_white_mug_on_the_right_plate_demo_primary_path_mask+KITCHEN_SCENE1_open_the_bottom_drawer_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_cream_cheese_box_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE3_put_the_frying_pan_on_the_stove_demo_primary_path_mask+pick_up_the_black_bowl_on_the_cookie_box_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_and_put_the_moka_pot_on_it_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_ramekin_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE2_pick_up_the_alphabet_soup_and_put_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE10_put_the_chocolate_pudding_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+KITCHEN_SCENE9_turn_on_the_stove_and_put_the_frying_pan_on_it_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_back_compartment_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE2_put_the_middle_black_bowl_on_the_plate_demo_primary_path_mask+put_the_wine_bottle_on_the_rack_demo_primary_path_mask+KITCHEN_SCENE9_turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE4_pick_up_the_book_on_the_left_and_place_it_on_top_of_the_shelf_demo_primary_path_mask+KITCHEN_SCENE8_put_the_right_moka_pot_on_the_stove_demo_primary_path_mask+pick_up_the_alphabet_soup_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE1_open_the_top_drawer_of_the_cabinet_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_yellow_and_white_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+KITCHEN_SCENE5_close_the_top_drawer_of_the_cabinet_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_chocolate_pudding_to_the_right_of_the_plate_demo_primary_path_mask+STUDY_SCENE1_pick_up_the_book_and_place_it_in_the_left_compartment_of_the_caddy_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_plate_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_put_the_black_bowl_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE5_put_the_black_bowl_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+KITCHEN_SCENE2_stack_the_black_bowl_at_the_front_on_the_black_bowl_in_the_middle_demo_primary_path_mask+pick_up_the_orange_juice_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE4_put_the_wine_bottle_on_the_wine_rack_demo_primary_path_mask+put_the_wine_bottle_on_top_of_the_cabinet_demo_primary_path_mask+pick_up_the_black_bowl_next_to_the_cookie_box_and_place_it_on_the_plate_demo_primary_path_mask+KITCHEN_SCENE10_put_the_butter_at_the_front_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+stack_platforms2_primary_path_mask+KITCHEN_SCENE9_put_the_frying_pan_on_top_of_the_cabinet_demo_primary_path_mask+pick_up_the_cream_cheese_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE6_put_the_yellow_and_white_mug_to_the_front_of_the_white_mug_demo_primary_path_mask+KITCHEN_SCENE4_put_the_black_bowl_in_the_bottom_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_cream_cheese_and_put_it_in_the_tray_demo_primary_path_mask+KITCHEN_SCENE5_put_the_ketchup_in_the_top_drawer_of_the_cabinet_demo_primary_path_mask+turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_red_mug_and_place_it_to_the_right_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE3_pick_up_the_butter_and_put_it_in_the_tray_demo_primary_path_mask+open_the_middle_drawer_of_the_cabinet_demo_primary_path_mask+pick_up_the_tomato_sauce_and_place_it_in_the_basket_demo_primary_path_mask+pick_up_the_bbq_sauce_and_place_it_in_the_basket_demo_primary_path_mask+KITCHEN_SCENE7_open_the_microwave_demo_primary_path_mask+KITCHEN_SCENE10_put_the_butter_at_the_back_in_the_top_drawer_of_the_cabinet_and_close_it_demo_primary_path_mask+STUDY_SCENE3_pick_up_the_book_and_place_it_in_the_right_compartment_of_the_caddy_demo_primary_path_mask+LIVING_ROOM_SCENE1_pick_up_the_tomato_sauce_and_put_it_in_the_basket_demo_primary_path_mask+pick_up_the_black_bowl_from_table_center_and_place_it_on_the_plate_demo_primary_path_mask+pick_up_the_black_bowl_on_the_stove_and_place_it_on_the_plate_demo_primary_path_mask+LIVING_ROOM_SCENE6_put_the_chocolate_pudding_to_the_left_of_the_plate_demo_primary_path_mask+KITCHEN_SCENE3_turn_on_the_stove_demo_primary_path_mask+STUDY_SCENE2_pick_up_the_book_and_place_it_in_the_front_compartment_of_the_caddy_demo_primary_path_mask+robopoint_1432k
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-2B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_lite_2b_sim_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS


####

DATASET=bridge_v2_secondary_path_mask+bridge_v2_tertiary_path_mask+bridge_v2_primary_path_mask+robopoint_1432k
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-8B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_lite_8b_bridge_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

DATASET=bridge_v2_secondary_path_mask+bridge_v2_tertiary_path_mask+bridge_v2_primary_path_mask+robopoint_1432k+droid_primary_path_mask+droid_secondary_path_mask
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-8B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_lite_8b_bridge_droid_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

DATASET=bridge_v2_secondary_path_mask+bridge_v2_tertiary_path_mask+bridge_v2_primary_path_mask+robopoint_1432k
BASE_MODEL=Efficient-Large-Model/VILA1.5-13b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_13b_bridge_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
N_GPUS=16
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

DATASET=bridge_v2_secondary_path_mask+bridge_v2_tertiary_path_mask+bridge_v2_primary_path_mask+robopoint_1432k+droid_primary_path_mask+droid_secondary_path_mask
BASE_MODEL=Efficient-Large-Model/VILA1.5-13b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_13b_bridge_droid_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/vila/$OUT_NAME
N_GPUS=16
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

DATASET=bridge_v2_secondary_path_mask+bridge_v2_tertiary_path_mask+bridge_v2_primary_path_mask+robopoint_1432k+bridge_v2_tertiary_path_mask_rw+bridge_v2_primary_path_mask_rw+bridge_v2_secondary_path_mask_rw
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-8B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_lite_8b_bridge_rw_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

#### 
DATASET=berkeley_autolab_ur5_tertiary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_secondary_path+austin_sailor_dataset_converted_externally_to_rlds_secondary_path+nyu_franka_play_dataset_converted_externally_to_rlds_primary_path+austin_sailor_dataset_converted_externally_to_rlds_primary_path+toto_secondary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_tertiary_path+berkeley_fanuc_manipulation_tertiary_path+berkeley_fanuc_manipulation_primary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_primary_path+dlr_edan_shared_control_converted_externally_to_rlds_secondary_path+fractal20220817_data_secondary_path+austin_buds_dataset_converted_externally_to_rlds_primary_path+berkeley_autolab_ur5_secondary_path+cmu_stretch_primary_path+jaco_play_tertiary_path+berkeley_fanuc_manipulation_secondary_path+austin_sirius_dataset_converted_externally_to_rlds_tertiary_path+bc_z_primary_path+taco_play_secondary_path+toto_primary_path+dlr_edan_shared_control_converted_externally_to_rlds_primary_path+taco_play_tertiary_path+austin_sailor_dataset_converted_externally_to_rlds_tertiary_path+berkeley_autolab_ur5_primary_path+toto_tertiary_path+jaco_play_secondary_path+utaustin_mutex_tertiary_path+cmu_stretch_tertiary_path+austin_sirius_dataset_converted_externally_to_rlds_secondary_path+nyu_franka_play_dataset_converted_externally_to_rlds_secondary_path+stanford_hydra_dataset_converted_externally_to_rlds_tertiary_path+bridge_v2_tertiary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_secondary_path+austin_sirius_dataset_converted_externally_to_rlds_primary_path+utaustin_mutex_secondary_path+dlr_edan_shared_control_converted_externally_to_rlds_tertiary_path+bc_z_secondary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_tertiary_path+jaco_play_primary_path+austin_buds_dataset_converted_externally_to_rlds_secondary_path+utaustin_mutex_primary_path+bc_z_tertiary_path+fractal20220817_data_primary_path+stanford_hydra_dataset_converted_externally_to_rlds_secondary_path+fractal20220817_data_tertiary_path+viola_primary_path+viola_tertiary_path+bridge_v2_primary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_primary_path+bridge_v2_secondary_path+taco_play_primary_path+nyu_franka_play_dataset_converted_externally_to_rlds_tertiary_path+austin_buds_dataset_converted_externally_to_rlds_tertiary_path+viola_secondary_path+fmb_tertiary_path+stanford_hydra_dataset_converted_externally_to_rlds_primary_path+cmu_stretch_secondary_path+robopoint_1432k
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-2B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_lite_2b_oxe_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

DATASET=berkeley_autolab_ur5_tertiary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_secondary_path+austin_sailor_dataset_converted_externally_to_rlds_secondary_path+nyu_franka_play_dataset_converted_externally_to_rlds_primary_path+austin_sailor_dataset_converted_externally_to_rlds_primary_path+toto_secondary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_tertiary_path+berkeley_fanuc_manipulation_tertiary_path+berkeley_fanuc_manipulation_primary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_primary_path+dlr_edan_shared_control_converted_externally_to_rlds_secondary_path+fractal20220817_data_secondary_path+austin_buds_dataset_converted_externally_to_rlds_primary_path+berkeley_autolab_ur5_secondary_path+cmu_stretch_primary_path+jaco_play_tertiary_path+berkeley_fanuc_manipulation_secondary_path+austin_sirius_dataset_converted_externally_to_rlds_tertiary_path+bc_z_primary_path+taco_play_secondary_path+toto_primary_path+dlr_edan_shared_control_converted_externally_to_rlds_primary_path+taco_play_tertiary_path+austin_sailor_dataset_converted_externally_to_rlds_tertiary_path+berkeley_autolab_ur5_primary_path+toto_tertiary_path+jaco_play_secondary_path+utaustin_mutex_tertiary_path+cmu_stretch_tertiary_path+austin_sirius_dataset_converted_externally_to_rlds_secondary_path+nyu_franka_play_dataset_converted_externally_to_rlds_secondary_path+stanford_hydra_dataset_converted_externally_to_rlds_tertiary_path+bridge_v2_tertiary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_secondary_path+austin_sirius_dataset_converted_externally_to_rlds_primary_path+utaustin_mutex_secondary_path+dlr_edan_shared_control_converted_externally_to_rlds_tertiary_path+bc_z_secondary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_tertiary_path+jaco_play_primary_path+austin_buds_dataset_converted_externally_to_rlds_secondary_path+utaustin_mutex_primary_path+bc_z_tertiary_path+fractal20220817_data_primary_path+stanford_hydra_dataset_converted_externally_to_rlds_secondary_path+fractal20220817_data_tertiary_path+viola_primary_path+viola_tertiary_path+bridge_v2_primary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_primary_path+bridge_v2_secondary_path+taco_play_primary_path+nyu_franka_play_dataset_converted_externally_to_rlds_tertiary_path+austin_buds_dataset_converted_externally_to_rlds_tertiary_path+viola_secondary_path+fmb_tertiary_path+stanford_hydra_dataset_converted_externally_to_rlds_primary_path+cmu_stretch_secondary_path+robopoint_1432k
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-8B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_lite_8b_oxe_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=16
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

DATASET=berkeley_autolab_ur5_tertiary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_secondary_path+austin_sailor_dataset_converted_externally_to_rlds_secondary_path+nyu_franka_play_dataset_converted_externally_to_rlds_primary_path+austin_sailor_dataset_converted_externally_to_rlds_primary_path+toto_secondary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_tertiary_path+berkeley_fanuc_manipulation_tertiary_path+berkeley_fanuc_manipulation_primary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_primary_path+dlr_edan_shared_control_converted_externally_to_rlds_secondary_path+fractal20220817_data_secondary_path+austin_buds_dataset_converted_externally_to_rlds_primary_path+berkeley_autolab_ur5_secondary_path+cmu_stretch_primary_path+jaco_play_tertiary_path+berkeley_fanuc_manipulation_secondary_path+austin_sirius_dataset_converted_externally_to_rlds_tertiary_path+bc_z_primary_path+taco_play_secondary_path+toto_primary_path+dlr_edan_shared_control_converted_externally_to_rlds_primary_path+taco_play_tertiary_path+austin_sailor_dataset_converted_externally_to_rlds_tertiary_path+berkeley_autolab_ur5_primary_path+toto_tertiary_path+jaco_play_secondary_path+utaustin_mutex_tertiary_path+cmu_stretch_tertiary_path+austin_sirius_dataset_converted_externally_to_rlds_secondary_path+nyu_franka_play_dataset_converted_externally_to_rlds_secondary_path+stanford_hydra_dataset_converted_externally_to_rlds_tertiary_path+bridge_v2_tertiary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_secondary_path+austin_sirius_dataset_converted_externally_to_rlds_primary_path+utaustin_mutex_secondary_path+dlr_edan_shared_control_converted_externally_to_rlds_tertiary_path+bc_z_secondary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_tertiary_path+jaco_play_primary_path+austin_buds_dataset_converted_externally_to_rlds_secondary_path+utaustin_mutex_primary_path+bc_z_tertiary_path+fractal20220817_data_primary_path+stanford_hydra_dataset_converted_externally_to_rlds_secondary_path+fractal20220817_data_tertiary_path+viola_primary_path+viola_tertiary_path+bridge_v2_primary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_primary_path+bridge_v2_secondary_path+taco_play_primary_path+nyu_franka_play_dataset_converted_externally_to_rlds_tertiary_path+austin_buds_dataset_converted_externally_to_rlds_tertiary_path+viola_secondary_path+fmb_tertiary_path+stanford_hydra_dataset_converted_externally_to_rlds_primary_path+cmu_stretch_secondary_path+robopoint_1432k
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_3b_oxe_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

DATASET=berkeley_autolab_ur5_tertiary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_secondary_path+austin_sailor_dataset_converted_externally_to_rlds_secondary_path+nyu_franka_play_dataset_converted_externally_to_rlds_primary_path+austin_sailor_dataset_converted_externally_to_rlds_primary_path+toto_secondary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_tertiary_path+berkeley_fanuc_manipulation_tertiary_path+berkeley_fanuc_manipulation_primary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_primary_path+dlr_edan_shared_control_converted_externally_to_rlds_secondary_path+fractal20220817_data_secondary_path+austin_buds_dataset_converted_externally_to_rlds_primary_path+berkeley_autolab_ur5_secondary_path+cmu_stretch_primary_path+jaco_play_tertiary_path+berkeley_fanuc_manipulation_secondary_path+austin_sirius_dataset_converted_externally_to_rlds_tertiary_path+bc_z_primary_path+taco_play_secondary_path+toto_primary_path+dlr_edan_shared_control_converted_externally_to_rlds_primary_path+taco_play_tertiary_path+austin_sailor_dataset_converted_externally_to_rlds_tertiary_path+berkeley_autolab_ur5_primary_path+toto_tertiary_path+jaco_play_secondary_path+utaustin_mutex_tertiary_path+cmu_stretch_tertiary_path+austin_sirius_dataset_converted_externally_to_rlds_secondary_path+nyu_franka_play_dataset_converted_externally_to_rlds_secondary_path+stanford_hydra_dataset_converted_externally_to_rlds_tertiary_path+bridge_v2_tertiary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_secondary_path+austin_sirius_dataset_converted_externally_to_rlds_primary_path+utaustin_mutex_secondary_path+dlr_edan_shared_control_converted_externally_to_rlds_tertiary_path+bc_z_secondary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_tertiary_path+jaco_play_primary_path+austin_buds_dataset_converted_externally_to_rlds_secondary_path+utaustin_mutex_primary_path+bc_z_tertiary_path+fractal20220817_data_primary_path+stanford_hydra_dataset_converted_externally_to_rlds_secondary_path+fractal20220817_data_tertiary_path+viola_primary_path+viola_tertiary_path+bridge_v2_primary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_primary_path+bridge_v2_secondary_path+taco_play_primary_path+nyu_franka_play_dataset_converted_externally_to_rlds_tertiary_path+austin_buds_dataset_converted_externally_to_rlds_tertiary_path+viola_secondary_path+fmb_tertiary_path+stanford_hydra_dataset_converted_externally_to_rlds_primary_path+cmu_stretch_secondary_path+robopoint_1432k
BASE_MODEL=Efficient-Large-Model/VILA1.5-13b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_13b_oxe_robopoint
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=16
sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

####    #####    #####

BASE_DATSETS=robopoint_1432k

PATH_DATASETS=droid_secondary_path+berkeley_autolab_ur5_tertiary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_secondary_path+austin_sailor_dataset_converted_externally_to_rlds_secondary_path+nyu_franka_play_dataset_converted_externally_to_rlds_primary_path+austin_sailor_dataset_converted_externally_to_rlds_primary_path+toto_secondary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_tertiary_path+berkeley_fanuc_manipulation_tertiary_path+berkeley_fanuc_manipulation_primary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_primary_path+dlr_edan_shared_control_converted_externally_to_rlds_secondary_path+fractal20220817_data_secondary_path+austin_buds_dataset_converted_externally_to_rlds_primary_path+berkeley_autolab_ur5_secondary_path+cmu_stretch_primary_path+jaco_play_tertiary_path+berkeley_fanuc_manipulation_secondary_path+austin_sirius_dataset_converted_externally_to_rlds_tertiary_path+bc_z_primary_path+taco_play_secondary_path+toto_primary_path+dlr_edan_shared_control_converted_externally_to_rlds_primary_path+droid_primary_path+taco_play_tertiary_path+austin_sailor_dataset_converted_externally_to_rlds_tertiary_path+berkeley_autolab_ur5_primary_path+toto_tertiary_path+jaco_play_secondary_path+utaustin_mutex_tertiary_path+cmu_stretch_tertiary_path+austin_sirius_dataset_converted_externally_to_rlds_secondary_path+nyu_franka_play_dataset_converted_externally_to_rlds_secondary_path+stanford_hydra_dataset_converted_externally_to_rlds_tertiary_path+bridge_v2_tertiary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_secondary_path+austin_sirius_dataset_converted_externally_to_rlds_primary_path+utaustin_mutex_secondary_path+dlr_edan_shared_control_converted_externally_to_rlds_tertiary_path+bc_z_secondary_path+ucsd_kitchen_dataset_converted_externally_to_rlds_tertiary_path+jaco_play_primary_path+austin_buds_dataset_converted_externally_to_rlds_secondary_path+utaustin_mutex_primary_path+bc_z_tertiary_path+fractal20220817_data_primary_path+stanford_hydra_dataset_converted_externally_to_rlds_secondary_path+fractal20220817_data_tertiary_path+viola_primary_path+viola_tertiary_path+bridge_v2_primary_path+iamlab_cmu_pickup_insert_converted_externally_to_rlds_primary_path+bridge_v2_secondary_path+taco_play_primary_path+nyu_franka_play_dataset_converted_externally_to_rlds_tertiary_path+austin_buds_dataset_converted_externally_to_rlds_tertiary_path+viola_secondary_path+fmb_tertiary_path+stanford_hydra_dataset_converted_externally_to_rlds_primary_path+cmu_stretch_secondary_path

#########
BASE_DATSETS=robopoint_1432k
MASK_DATASETS=austin_buds_dataset_converted_externally_to_rlds_primary_path_mask+austin_buds_dataset_converted_externally_to_rlds_secondary_path_mask+austin_buds_dataset_converted_externally_to_rlds_tertiary_path_mask+austin_sailor_dataset_converted_externally_to_rlds_primary_path_mask+austin_sailor_dataset_converted_externally_to_rlds_secondary_path_mask+austin_sailor_dataset_converted_externally_to_rlds_tertiary_path_mask+austin_sirius_dataset_converted_externally_to_rlds_primary_path_mask+austin_sirius_dataset_converted_externally_to_rlds_secondary_path_mask+austin_sirius_dataset_converted_externally_to_rlds_tertiary_path_mask+bc_z_primary_path_mask+bc_z_secondary_path_mask+bc_z_tertiary_path_mask+berkeley_autolab_ur5_primary_path_mask+berkeley_autolab_ur5_secondary_path_mask+berkeley_autolab_ur5_tertiary_path_mask+berkeley_fanuc_manipulation_primary_path_mask+berkeley_fanuc_manipulation_secondary_path_mask+berkeley_fanuc_manipulation_tertiary_path_mask+bridge_v2_primary_path_mask+bridge_v2_secondary_path_mask+bridge_v2_tertiary_path_mask+cmu_stretch_primary_path_mask+cmu_stretch_secondary_path_mask+cmu_stretch_tertiary_path_mask+dlr_edan_shared_control_converted_externally_to_rlds_primary_path_mask+dlr_edan_shared_control_converted_externally_to_rlds_secondary_path_mask+dlr_edan_shared_control_converted_externally_to_rlds_tertiary_path_mask+droid_primary_path_mask+droid_secondary_path_mask+droid_tertiary_path_mask+fmb_primary_path_mask+fmb_secondary_path_mask+fmb_tertiary_path_mask+fractal20220817_data_primary_path_mask+fractal20220817_data_secondary_path_mask+fractal20220817_data_tertiary_path_mask+iamlab_cmu_pickup_insert_converted_externally_to_rlds_primary_path_mask+iamlab_cmu_pickup_insert_converted_externally_to_rlds_secondary_path_mask+iamlab_cmu_pickup_insert_converted_externally_to_rlds_tertiary_path_mask+jaco_play_primary_path_mask+jaco_play_secondary_path_mask+jaco_play_tertiary_path_mask+nyu_franka_play_dataset_converted_externally_to_rlds_primary_path_mask+nyu_franka_play_dataset_converted_externally_to_rlds_secondary_path_mask+nyu_franka_play_dataset_converted_externally_to_rlds_tertiary_path_mask+stanford_hydra_dataset_converted_externally_to_rlds_primary_path_mask+stanford_hydra_dataset_converted_externally_to_rlds_secondary_path_mask+stanford_hydra_dataset_converted_externally_to_rlds_tertiary_path_mask+taco_play_primary_path_mask+taco_play_secondary_path_mask+taco_play_tertiary_path_mask+toto_primary_path_mask+toto_secondary_path_mask+toto_tertiary_path_mask+ucsd_kitchen_dataset_converted_externally_to_rlds_primary_path_mask+ucsd_kitchen_dataset_converted_externally_to_rlds_secondary_path_mask+ucsd_kitchen_dataset_converted_externally_to_rlds_tertiary_path_mask+utaustin_mutex_primary_path_mask+utaustin_mutex_secondary_path_mask+utaustin_mutex_tertiary_path_mask+viola_primary_path_mask+viola_secondary_path_mask+viola_tertiary_path_mask

DATASET=$BASE_DATSETS+$MASK_DATASETS
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_3b_path_mask
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name vila_3b_path_mask --json_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj/bridge_v2_primary_path_mask/test_bridge_v2_primary_path_mask_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila --num_samples 100

DATASET=$BASE_DATSETS+$MASK_DATASETS
BASE_MODEL=Efficient-Large-Model/VILA1.5-13b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_13b_path_mask
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/nvila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name vila_13b_path_mask --json_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj/bridge_v2_primary_path_mask/test_bridge_v2_primary_path_mask_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/nvila --num_samples 100

DATASET=$BASE_DATSETS+$MASK_DATASETS
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-2B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_2b_path_mask
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/nvila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

conda activate nvila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name nvila_2b_path_mask --json_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj/bridge_v2_primary_path_mask/test_bridge_v2_primary_path_mask_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/nvila/checkpoints/finetuned/nvila --num_samples 100

DATASET=$BASE_DATSETS+$MASK_DATASETS
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-8B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_8b_path_mask
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/nvila/checkpoints/finetuned/nvila/$OUT_NAME
N_GPUS=8
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

conda activate nvila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name nvila_8b_path_mask --json_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj/bridge_v2_primary_path_mask/test_bridge_v2_primary_path_mask_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/nvila/checkpoints/finetuned/nvila --num_samples 100


##########

oxe_processed_path_mask_lang_subtraj_new_conv

DATASET=robopoint_1432k+oxe_processed_path_mask_lang_subtraj_new_conv
BASE_MODEL=Efficient-Large-Model/VILA1.5-13b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_13b_path_mask_lang_new
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/$OUT_NAME
N_GPUS=8
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj_NEW/bridge_v2_primary_path_mask_0/test_bridge_v2_primary_path_mask_0_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500



DATASET=robopoint_1432k+sim_path_mask_subtraj_new+oxe_processed_path_mask_subtraj_new
BASE_MODEL=Efficient-Large-Model/VILA1.5-13b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_13b_path_mask_new_double_bs
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/$OUT_NAME
N_GPUS=16
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj/bridge_v2_primary_path_mask_0/test_bridge_v2_primary_path_mask_0_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500



DATASET=robopoint_1432k+sim_path_mask_subtraj+oxe_processed_path_mask_subtraj
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-2B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_2b_path_mask
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/$OUT_NAME
N_GPUS=8
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

conda activate nvila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj/bridge_v2_primary_path_mask_0/test_bridge_v2_primary_path_mask_0_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500



DATASET=robopoint_1432k+sim_path_mask_subtraj+oxe_processed_path_mask_subtraj
BASE_MODEL=Efficient-Large-Model/NVILA-Lite-8B
EPOCHS=1
LR=2e-5
OUT_NAME=nvila_8b_path_mask
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/$OUT_NAME
N_GPUS=8
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

conda activate nvila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj/bridge_v2_primary_path_mask_0/test_bridge_v2_primary_path_mask_0_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500








conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /home/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj_NEW/bridge_v2_primary_path_mask_0/test_bridge_v2_primary_path_mask_0_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500

conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /home/mmemmel/projects/vila/data/oxe_processed_path_mask_history_subtraj_hist_NEW/bridge_v2_primary_path_mask_history_0/test_bridge_v2_primary_path_mask_history_0_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500

OUT_NAME=vila_13b_path_mask_lang_new
conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /home/mmemmel/projects/vila/data/oxe_processed_path_mask_lang_subtraj_NEW/bridge_v2_primary_path_mask_lang_0/test_bridge_v2_primary_path_mask_lang_0_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500


OUT_NAME=vila_3b_path_mask_lang_new
conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /home/mmemmel/projects/vila/data/oxe_processed_path_mask_lang_subtraj_NEW/bridge_v2_primary_path_mask_lang_0/test_bridge_v2_primary_path_mask_lang_0_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500



DATASET=robopoint_1432k+oxe_processed_path_mask_subtraj+sim_path_mask_subtraj
BASE_MODEL=Efficient-Large-Model/VILA1.5-13b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_13b_path_mask_fast
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/$OUT_NAME
N_GPUS=8
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

runint
OUT_NAME=vila_13b_path_mask_fast
conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /home/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj/bridge_v2_primary_path_mask_0/test_bridge_v2_primary_path_mask_0_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500


DATASET=robopoint_1432k+oxe_processed_path_mask_subtraj+sim_path_mask_subtraj
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_3b_path_mask_fast
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/$OUT_NAME
N_GPUS=8
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS

runint
OUT_NAME=vila_3b_path_mask_fast
conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /home/mmemmel/projects/vila/data/oxe_processed_path_mask_subtraj/bridge_v2_primary_path_mask_0/test_bridge_v2_primary_path_mask_0_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500



/home/mmemmel/projects/vila/data/sim_path_mask_subtraj_ood/sim_path_mask_subtraj_ood_conv.jsonl

OUT_NAME=vila_3b_path_mask_fast
conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /home/mmemmel/projects/vila/data/sim_path_mask_subtraj_ood/sim_path_mask_subtraj_ood_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500

OUT_NAME=vila_13b_path_mask_fast
conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /home/mmemmel/projects/vila/data/sim_path_mask_subtraj_ood/sim_path_mask_subtraj_ood_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500

/home/mmemmel/projects/vila/data/sim_path_mask_subtraj/sim_path_mask_subtraj_conv.jsonl

OUT_NAME=vila_3b_path_mask_fast
conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /home/mmemmel/projects/vila/data/sim_path_mask_subtraj/sim_path_mask_subtraj_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500

OUT_NAME=vila_13b_path_mask_fast
conda activate vila && cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && python batch_inference.py --model_name $OUT_NAME --json_path /home/mmemmel/projects/vila/data/sim_path_mask_subtraj/sim_path_mask_subtraj_conv.jsonl --prompt_type path_mask --model_path /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/ --num_samples 500


DATASET=robopoint_1432k+oxe_processed_path_mask_subtraj+sim_path_mask_subtraj+pick_and_place_5000_3_objs_left_path_mask+pick_and_place_5000_3_objs_middle_path_mask
BASE_MODEL=Efficient-Large-Model/VILA1.5-3b
EPOCHS=1
LR=2e-5
OUT_NAME=vila_3b_blocks_path_mask_fast
OUT_DIR=/lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/checkpoints/finetuned/$OUT_NAME
N_GPUS=8
cd /lustre/fs12/portfolios/nvr/users/mmemmel/projects/vila/scripts/ && sh srun_sft.sh $BASE_MODEL $DATASET $EPOCHS $LR $OUT_DIR $N_GPUS